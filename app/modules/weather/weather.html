<div class="margin-top-10">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <form>
          <div class="form-group">
            <div class="row">
              <div class="col-md-3">
                <label for="exampleFormControlSelect1">Country</label>
                <ui-select ng-model="vm.countrySelected" class="margin-top-5" on-select="vm.getCitysByCountry(vm.countrySelected)">
                  <ui-select-match placeholder="Choose an country">{{vm.countrySelected.nome}}</ui-select-match>
                  <ui-select-choices repeat="country in vm.country | filter: $select.search">
                    <div ng-bind-html="country.nome | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="col-md-6">
                <label for="exampleFormControlSelect1">City</label>
                <ui-select ng-model="vm.citySelected" class="margin-top-5">
                  <ui-select-match placeholder="Choose an city">{{vm.citySelected}}</ui-select-match>
                  <ui-select-choices repeat="city in vm.city[0].cidades | filter: $select.search">
                    <div ng-bind-html="city | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="col-md-3">
                <button ng-click="vm.search(vm.citySelected)" class="btn btn-primary margin-top-30">
                  Search
                  <span ng-if="vm.loading">
                    <i class="fa fa-spinner fa-spin"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div ng-if="!vm.loading" class="row">
      <div class="col-md-12">
        <div class="row">
          <div ng-repeat="item in vm.model.list">
            <div class="col-md-3">
              <div class="card margin-top-20" style="width: 240px;">
                <div class="card-header">
                  <img ng-src="{{vm.getImage(item.weather[0].icon)}}">
                  <span>{{item.weather[0].description}}</span>
                </div>
                <div class="card-block">
                  <h4 class="card-title">Temp: {{item.temp.day}}°</h4>
                  <p class="card-text">Max: {{item.temp.min}}°</p>
                  <p class="card-text">Min: {{item.temp.max}}°</p>
                  <p class="card-text">Date: {{vm.getConvertDate(item.dt)}}</p>
                  <p>{{vm.getNameWeek(item.dt)}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>